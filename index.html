<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Spencer Ingram — Portfolio</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Animate.css (optional) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  <!-- (Optional) GSAP + ScrollTrigger -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

  <style>
    html, body { scroll-behavior: smooth; }

    :root { --banner-speed: 40s; }
    @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
    .marquee { display:inline-flex; animation:marquee var(--banner-speed) linear infinite; will-change:transform; }
    .skill { margin:0 2rem; white-space:nowrap; }

    /* === Tiny framework-free carousel (drop-in) === */
    .carousel { outline:none; }
    .carousel-viewport { position:relative; width:100%; overflow:hidden; border-radius:0.5rem; }
    .carousel-viewport::before { content:""; display:block; padding-top:56.25%; } /* 16:9 default */
    .carousel-viewport > .carousel-slide { position:absolute; inset:0; opacity:0; transition:opacity .35s ease; }
    .carousel-viewport > .carousel-slide.is-active { opacity:1; }
    .carousel-controls { display:flex; align-items:center; justify-content:space-between; gap:.5rem; margin-top:.75rem; }
    .carousel-btn { padding:.5rem .75rem; border-radius:.5rem; background:#111; color:#fff; }
    .carousel-btn:hover { background:#222; }
    .carousel-dots { display:flex; align-items:center; gap:.4rem; }
    .carousel-dot { width:.5rem; height:.5rem; border-radius:9999px; background:#d1d5db; }
    .carousel-dot[aria-selected="true"] { background:#111; }

    /* Banking/detail 'contain' viewports (no 16:9 mask) */
    .carousel-viewport.contain::before { display: none; }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">

  <!-- Hero Banner -->
  <header class="relative min-h-screen flex flex-col items-center justify-center text-center text-white">
    <img src="images/mountains-hero.png" alt="Mountains" class="absolute inset-0 w-full h-full object-cover" />
    <div class="absolute inset-0 bg-black/60"></div>

    <div class="relative z-10">
      <h1 class="text-5xl font-bold">Spencer Ingram</h1>
      <p class="mt-2 text-lg">Waterloo • Volleyball • Computer Engineering</p>
      <a href="https://docs.google.com/document/d/13raGHrV71GfiVMsRKhPbvbXUBSFXjlu5vDxYWNGUB2E/edit?tab=t.0"
         target="_blank"
         class="mt-4 inline-block bg-white text-black px-6 py-3 rounded-lg font-semibold hover:bg-gray-200 transition">
        View Resume
      </a>
    </div>

    <!-- Scroll Down Arrow -->
    <div class="absolute bottom-16 z-10">
      <a href="#about" class="inline-block text-white">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 animate-bounce mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
        </svg>
      </a>
    </div>

    <!-- Skills Scrolling Banner -->
    <div class="absolute bottom-0 w-full overflow-hidden bg-black/90">
      <div class="marquee whitespace-nowrap text-white py-2 text-base md:text-lg">
        <span class="skill">C++</span><span class="skill">C</span><span class="skill">SQL</span>
        <span class="skill">Python</span><span class="skill">Angular</span><span class="skill">Java</span>
        <span class="skill">Ruby</span><span class="skill">JavaScript</span><span class="skill">Circuit Design</span>
        <span class="skill">PCB Testing</span><span class="skill">Microcontroller Programming (STM32 & Arduino)</span>
        <span class="skill">Soldering</span><span class="skill">Git</span><span class="skill">Autodesk</span>
        <span class="skill">Fusion 360</span><span class="skill">Excel</span><span class="skill">Adobe Illustrator</span>

        <!-- duplicate for seamless loop -->
        <span class="skill">C++</span><span class="skill">C</span><span class="skill">SQL</span>
        <span class="skill">Python</span><span class="skill">Angular</span><span class="skill">Java</span>
        <span class="skill">Ruby</span><span class="skill">JavaScript</span><span class="skill">Circuit Design</span>
        <span class="skill">PCB Testing</span><span class="skill">Microcontroller Programming (STM32 & Arduino)</span>
        <span class="skill">Soldering</span><span class="skill">Git</span><span class="skill">Autodesk</span>
        <span class="skill">Fusion 360</span><span class="skill">Excel</span><span class="skill">Adobe Illustrator</span>
      </div>
    </div>
  </header>

  <!-- About Me -->
  <section id="about" class="py-20 text-center bg-gray-100">
    <h2 class="text-3xl font-bold mb-4">About Me</h2>
    <p class="max-w-2xl mx-auto text-gray-700">
      I’m a Computer Engineering student at the University of Waterloo, a varsity volleyball athlete,
      and a member of UW Rocketry’s electrical subteam.. I chose computer engineering because I have 
      always been impressed by how code and hardware work together. Lately, I have been really interested in PCBs. When I am
      not studying or playing volleyball, I love to spend time hiking or camping. 
    </p>
  </section>

  <!-- Projects Gallery (clean 3×3, square crops) -->
  <section class="py-20 bg-white">
    <h2 class="text-3xl font-bold text-center mb-10">Experience & Projects</h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-6 max-w-6xl mx-auto">
      <!-- Each card uses aspect-square + object-cover to center-crop to 1:1 -->
      <div class="relative group cursor-pointer" onclick="document.getElementById('proj1').scrollIntoView({behavior:'smooth'})">
        <div class="aspect-square overflow-hidden rounded-lg shadow-md">
          <img src="images/pacesettermeoutfront.jpg" class="w-full h-full object-cover object-center" alt="Pacesetter Co-op">
        </div>
        <div class="absolute inset-0 rounded-lg bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white font-bold text-xl transition">Pacesetter Co-op</div>
      </div>

      <div class="relative group cursor-pointer" onclick="document.getElementById('proj2').scrollIntoView({behavior:'smooth'})">
        <div class="aspect-square overflow-hidden rounded-lg shadow-md">
          <img src="images/mvbmain.png" class="w-full h-full object-cover object-center" alt="Varsity Volleyball">
        </div>
        <div class="absolute inset-0 rounded-lg bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white font-bold text-xl transition">Varsity Volleyball</div>
      </div>

      <div class="relative group cursor-pointer" onclick="document.getElementById('proj3').scrollIntoView({behavior:'smooth'})">
        <div class="aspect-square overflow-hidden rounded-lg shadow-md">
          <img src="images/rokcetrymain.png" class="w-full h-full object-cover object-center" alt="Rocketry">
        </div>
        <div class="absolute inset-0 rounded-lg bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white font-bold text-xl transition">Rocketry</div>
      </div>

      <div class="relative group cursor-pointer" onclick="document.getElementById('proj4').scrollIntoView({behavior:'smooth'})">
        <div class="aspect-square overflow-hidden rounded-lg shadow-md">
          <img src="images/3dprinter.png" class="w-full h-full object-cover object-center" alt="3D Printer">
        </div>
        <div class="absolute inset-0 rounded-lg bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white font-bold text-xl transition">3D Printer</div>
      </div>

      <div class="relative group cursor-pointer" onclick="document.getElementById('proj5').scrollIntoView({behavior:'smooth'})">
        <div class="aspect-square overflow-hidden rounded-lg shadow-md">
          <img src="images/lasercutter1.png" class="w-full h-full object-cover object-center" alt="Laser Cutter">
        </div>
        <div class="absolute inset-0 rounded-lg bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white font-bold text-xl transition">Laser Cutter</div>
      </div>

      <div class="relative group cursor-pointer" onclick="document.getElementById('proj6').scrollIntoView({behavior:'smooth'})">
        <div class="aspect-square overflow-hidden rounded-lg shadow-md">
          <img src="images/tempsensor1.jpg" class="w-full h-full object-cover object-center" alt="Temperature Sensor">
        </div>
        <div class="absolute inset-0 rounded-lg bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white font-bold text-xl transition">Temp Sensor</div>
      </div>

      <div class="relative group cursor-pointer" onclick="document.getElementById('proj7').scrollIntoView({behavior:'smooth'})">
        <div class="aspect-square overflow-hidden rounded-lg shadow-md bg-white flex items-center justify-center">
          <img src="images/bank1.png" class="max-w-full max-h-full object-contain" alt="Banking Site">
        </div>
        <div class="absolute inset-0 rounded-lg bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white font-bold text-xl transition">Banking Site</div>
      </div>

      <div class="relative group cursor-pointer" onclick="document.getElementById('proj8').scrollIntoView({behavior:'smooth'})">
        <div class="aspect-square overflow-hidden rounded-lg shadow-md">
          <img src="images/fishinggame.png" class="w-full h-full object-cover object-center" alt="Fishing Game">
        </div>
        <div class="absolute inset-0 rounded-lg bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white font-bold text-xl transition">Fishing Game</div>
      </div>

      <div class="relative group cursor-pointer" onclick="document.getElementById('proj9').scrollIntoView({behavior:'smooth'})">
        <div class="aspect-square overflow-hidden rounded-lg shadow-md">
          <img src="images/rubiks.png" class="w-full h-full object-cover object-center" alt="Rubik’s Cube Robot">
        </div>
        <div class="absolute inset-0 rounded-lg bg-black/70 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white font-bold text-xl transition">Rubik’s Cube Robot</div>
      </div>
    </div>
  </section>

  <!-- === Project Descriptions (alternating) === -->

  <!-- 1) Co-op (carousel) -->
  <section id="proj1" class="py-20 bg-gray-50">
    <div class="max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-8 px-6">
      <div class="w-full md:w-1/2">
        <div class="carousel" data-gallery="pacesetter" data-autoplay="true" tabindex="0">
          <div class="carousel-viewport rounded-lg shadow-lg overflow-hidden">
            <div class="carousel-slide is-active"><img src="images/pacesettermeoutfront.jpg" class="w-full h-full object-cover" alt="Pacesetter — front"></div>
            <div class="carousel-slide"><img src="images/pacesetterred.jpg" class="w-full h-full object-cover" alt="Pacesetter — red overlay"></div>
            <div class="carousel-slide"><img src="images/Pacesetterhome.png" class="w-full h-full object-cover" alt="Pacesetter — home screen"></div>
          </div>
        </div>
      </div>
      <div class="w-full md:w-1/2">
        <h3 class="text-2xl font-bold mb-3">Pacesetter Co-op — Angular & Hardware</h3>
        <p class="text-gray-700 leading-relaxed">
          I joined to modernize a production Angular app: migrating from v14 → v19 and untangle deprecated APIs.. I also added theming (including dark mode). While shipping
          UI work, I also got pulled into the lab side: reading EM-MWD data, helping triage PCB repairs, and improving
          the hand-off between firmware changes and bench validation. The work term was especially insightful because I had the opportunity to work
          with a codebase used create and monitor electromagnetic tools, and then design directly with said 
          technicians and tools. During my last month, I also improved some algorithms and created a system to stifle 
          electromagnetic noise. 
        </p>
        <p class="mt-4 text-sm text-gray-600"><strong>Highlights:</strong> Component library cleanup • PCB repair checklists • Faster restore flow • EM tools</p>
        <p class="mt-1 text-sm text-gray-600"><strong>Stack:</strong> Angular, TypeScript, RxJS, SCSS, Git, Jira • Bench tools, DMM, oscilloscope</p>
      </div>
    </div>
  </section>
  
  <!-- 2) Volleyball (carousel) -->
  <section id="proj2" class="py-20 bg-white">
    <div class="max-w-5xl mx-auto flex flex-col md:flex-row-reverse items-center gap-8 px-6">
      <div class="w-full md:w-1/2">
        <div class="carousel" data-gallery="volleyball" tabindex="0">
          <div class="carousel-viewport rounded-lg shadow-lg overflow-hidden">
            <div class="carousel-slide is-active"><img src="images/mvbmain.png" class="w-full h-full object-cover" alt="Volleyball — main"></div>
            <div class="carousel-slide"><img src="images/mvbcollection.jpg" class="w-full h-full object-cover" alt="Volleyball — collection"></div>
          </div>
        </div>
      </div>
      <div class="w-full md:w-1/2">
        <h3 class="text-2xl font-bold mb-3">Varsity Volleyball — Systems Thinking, Under Pressure</h3>
        <p class="text-gray-700 leading-relaxed">
          Volleyball keeps my analytical skills sharp. One of the pillars of our system is preparation. 
          Since things happen fast on the court, we have to be prepared. We watch film and game plan 
          for each opponent, and reflect heavily on each practice. We set goals each Monday, and work towards
          them throughout the week. My point is: we build good habits when training, and that has
          translated into my academic and everyday life. 
        </p>
        <p class="mt-4 text-sm text-gray-600"><strong>Skills:</strong> Leadership, feedback loops, fast problem decomposition, planning, goal setting, team systems</p>
      </div>
    </div>
  </section>
  
  <!-- 3) Rocketry (carousel inc. video) -->
  <section id="proj3" class="py-20 bg-gray-50">
    <div class="max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-8 px-6">
      <div class="w-full md:w-1/2">
        <div class="carousel" data-gallery="rocketry" data-autoplay="true" tabindex="0">
          <div class="carousel-viewport rounded-lg shadow-lg overflow-hidden">
            <div class="carousel-slide is-active"><img src="images/rokcetrymain.png" class="w-full h-full object-cover" alt="Rocketry — main"></div>
            <div class="carousel-slide"><img src="images/rocketry2.png" class="w-full h-full object-cover" alt="Rocketry — closeup"></div>
            <div class="carousel-slide">
              <video class="w-full h-full object-cover" muted playsinline controls preload="metadata">
                <source src="images/rocketryvid.mp4" type="video/mp4">
              </video>
            </div>
          </div>
        </div>
      </div>
      <div class="w-full md:w-1/2">
        <h3 class="text-2xl font-bold mb-3">UW Rocketry — Avionics & Electrical</h3>
        <p class="text-gray-700 leading-relaxed">
          On the electrical subteam, I help with sensor testing, wiring harness layouts, and bringing up PCBs for
          avionics. I enjoy validating boards: schematic review, continuity check, power-up
          in stages, then firmware smoke tests. The best part is translating “this pin reads weird” into a design
          that fixes something that would have failed.
        </p>
        <p class="mt-4 text-sm text-gray-600"><strong>Tech:</strong> STM32, I²C/SPI/UART, level shifting, conformal coating basics, harness strain relief</p>
      </div>
    </div>
  </section>
  
  <!-- 4) 3D Printer (single image; carousel not needed) -->
  <section id="proj4" class="py-20 bg-white">
    <div class="max-w-5xl mx-auto flex flex-col md:flex-row-reverse items-center gap-8 px-6">
      <div class="w-full md:w-1/2">
        <img src="images/3dprinter.png" class="rounded-lg shadow-lg w-full h-auto" alt="3D Printer">
      </div>
      <div class="w-full md:w-1/2">
        <h3 class="text-2xl font-bold mb-3">3D Printer — Set up and Run</h3>
        <p class="text-gray-700 leading-relaxed">
          Built and set up a hobby printer into a dependable tool. I calibrated e-steps and flow, and set up profiles for PLA, PETG, and ASA. This 3d 
          printer was fully operational just before I graduated grade 10, and is currently operating
          in my high school. 
        </p>
        <p class="mt-4 text-sm text-gray-600"><strong>Tools:</strong> Cura/PrusaSlicer, callipers, bed levelling, design in Fusion 360</p>
      </div>
    </div>
  </section>
  
  <!-- 5) Laser Cutter (carousel) -->
  <section id="proj5" class="py-20 bg-gray-50">
    <div class="max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-8 px-6">
      <div class="w-full md:w-1/2">
        <div class="carousel" data-gallery="laser" tabindex="0">
          <div class="carousel-viewport rounded-lg shadow-lg overflow-hidden">
            <div class="carousel-slide is-active"><img src="images/lasercutter1.png" class="w-full h-full object-cover" alt="Laser Cutter 1"></div>
            <div class="carousel-slide"><img src="images/lasercutter2.png" class="w-full h-full object-cover" alt="Laser Cutter 2"></div>
            <div class="carousel-slide"><img src="images/lasercutter3.png" class="w-full h-full object-cover" alt="Laser Cutter 3"></div>
          </div>
        </div>
      </div>
      <div class="w-full md:w-1/2">
        <h3 class="text-2xl font-bold mb-3">Laser Cutter — Workflow and File Sharing</h3>
        <p class="text-gray-700 leading-relaxed">
          I didn’t build the machine, but I made it easier for everyone to use. I connected the shop’s laser cutter
          computer to the other desktops in my school so students could export from Adobe Illustrator and upload their
          files directly. Instead of carrying USB sticks back and forth, the shop PC pulled jobs straight from a shared
          folder, making the process smoother and cutting downtime.
        </p>
        <p class="mt-4 text-sm text-gray-600"><strong>Tools:</strong> Windows file sharing, Adobe Illustrator, LightBurn, basic IT setup and documentation</p>
      </div>
    </div>
  </section>
  
  <!-- 6) Temperature Sensor (carousel inc. video) -->
  <section id="proj6" class="py-20 bg-white">
    <div class="max-w-5xl mx-auto flex flex-col md:flex-row-reverse items-center gap-8 px-6">
      <div class="w-full md:w-1/2">
        <div class="carousel" data-gallery="tempsensor" data-autoplay="true" tabindex="0">
          <div class="carousel-viewport rounded-lg shadow-lg overflow-hidden">
            <div class="carousel-slide is-active"><img src="images/tempsensor1.jpg" class="w-full h-full object-cover" alt="Temp Sensor — build"></div>
            <div class="carousel-slide">
              <video class="w-full h-full object-cover" muted playsinline controls preload="metadata">
                <source src="images/tempsensorvid.mp4" type="video/mp4">
              </video>
            </div>
          </div>
        </div>
      </div>
      <div class="w-full md:w-1/2">
        <h3 class="text-2xl font-bold mb-3">Temperature Sensor — From Breadboard to Box</h3>
        <p class="text-gray-700 leading-relaxed">
          Prototyped a low-power sensor with a microcontroller and digital sensor (and a thermistor version for fun).
          I wrote a simple moving-average filter, added calibration against a reference thermometer, and designed a
          LED dot matrix display to show the results. As an extra challenge, I decided to navigate the individual diodes
          within the LED matrix instead of using a driver. It was a fun added component to the project. 
        </p>
        <p class="mt-4 text-sm text-gray-600"><strong>Stack:</strong> Arduino/STM32, DS18B20/NTC, voltage dividers, basic filtering, matrix mapping</p>
      </div>
    </div>
  </section>
  
  <!-- 7) Banking Site (carousel, no crop) -->
  <section id="proj7" class="py-20 bg-gray-50">
    <div class="max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-8 px-6">
      <!-- Carousel -->
      <div class="w-full md:w-1/2">
        <div class="carousel" data-gallery="banking" tabindex="0">
          <div class="carousel-viewport contain h-64 md:h-80 rounded-lg shadow-lg overflow-hidden bg-white">
            <div class="carousel-slide is-active">
              <img src="images/bank1.png" class="w-full h-full object-contain bg-white" alt="Banking app home page">
            </div>
            <div class="carousel-slide">
              <img src="images/bankcode.png" class="w-full h-full object-contain bg-white" alt="Banking site code view">
            </div>
          </div>
        </div>
      </div>
      <!-- Text -->
      <div class="w-full md:w-1/2">
        <h3 class="text-2xl font-bold mb-3">Banking Site — Practical UI and DES Encryption</h3>
        <p class="text-gray-700 leading-relaxed">
          Built a small web app with auth, accounts, and transactions. I focused on clarity—zero-friction forms,
          forgiving validation, and tables and charts that were easily understood. I also designed a simplified 
          DES (Data Encryption Standard) algorithm for the application, which was my favourite part. 
        </p>
        <p class="mt-4 text-sm text-gray-600">
          <strong>Skills:</strong> HTML/CSS/JS, local JSON / mock API, form validation, DES Encryption
        </p>
      </div>
    </div>
  </section>
  
  <!-- 8) Fishing Game (carousel inc. video) -->
  <section id="proj8" class="py-20 bg-white">
    <div class="max-w-5xl mx-auto flex flex-col md:flex-row-reverse items-center gap-8 px-6">
      <div class="w-full md:w-1/2">
        <div class="carousel" data-gallery="fishing" data-autoplay="true" tabindex="0">
          <div class="carousel-viewport rounded-lg shadow-lg overflow-hidden">
            <div class="carousel-slide is-active"><img src="images/fishinggame.png" class="w-full h-full object-cover" alt="Fishing Game — gameplay"></div>
            <div class="carousel-slide"><img src="images/fishingmenu.png" class="w-full h-full object-cover" alt="Fishing Game — menu"></div>
            <div class="carousel-slide">
              <video class="w-full h-full object-cover" muted playsinline controls preload="metadata">
                <source src="images/fishingvid.mp4" type="video/mp4">
              </video>
            </div>
          </div>
        </div>
      </div>
      <div class="w-full md:w-1/2">
        <h3 class="text-2xl font-bold mb-3">Fishing Game — Algorithms, Visualized</h3>
        <p class="text-gray-700 leading-relaxed">
          Created a fishing-themed game in Java to teach searching and sorting algorithms in a visual and engaging way. 
          Instead of static textbook examples, players see “fish” representing data elements swim across the screen, 
          while algorithms like gnome sort, bubble sort, insertion sort, and champagne sort play out in real time. 
          It shows the logic step-by-step, making the learning process more intuitive and interactive. 
          I used this to teach while tutoring high school CS. 
        </p>
        <p class="mt-4 text-sm text-gray-600"><strong>Focus:</strong> Java graphics, algorithm visualization, interactive education</p>
      </div>
    </div>
  </section>
  
  <!-- 9) Rubik’s Cube Robot (single image only) -->
  <section id="proj9" class="py-20 bg-gray-50">
    <div class="max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-8 px-6">
      <div class="w-full md:w-1/2">
        <img src="images/rubiks.png" class="rounded-lg shadow-lg w-full h-auto" alt="Rubik’s Cube Robot">
      </div>
      <div class="w-full md:w-1/2">
        <h3 class="text-2xl font-bold mb-3">Rubik’s Cube Robot — Mechatronics and Search</h3>
        <p class="text-gray-700 leading-relaxed">
          I designed a simple jig and drive to grip and rotate the cube, then experimented with a solver pipeline:
          detect stickers, map colours to a state, run a layer-based or Kociemba-style solver, and execute moves.
          Getting from “works once” to “works reliably” taught me to add homing, end-stops, and clear recovery states.
        </p>
        <p class="mt-4 text-sm text-gray-600"><strong>Tech:</strong> Servos/steppers, limit switches, basic CV for colour detection, search algorithms</p>
      </div>
    </div>
  </section>

  <!-- Modal Lightbox (reused for any gallery) -->
  <div id="lightbox" class="fixed inset-0 bg-black/90 hidden items-center justify-center z-50">
    <button id="lightbox-close" class="absolute top-4 right-4 text-white text-3xl" aria-label="Close">&times;</button>
    <div class="max-w-5xl w-full mx-4">
      <div class="carousel" data-autoplay="true" tabindex="0">
        <!-- Use 'contain' and a tall viewport for images/videos -->
        <div class="carousel-viewport contain h-[70vh] md:h-[80vh] rounded-lg shadow-lg overflow-hidden bg-white">
          <!-- slides injected dynamically -->
        </div>
      </div>
    </div>
  </div>
  
  <footer class="py-10 text-center bg-gray-900 text-white">
    <p>&copy; 2025 Spencer Ingram.</p>
  </footer>

  <!-- Tiny Carousel + Lightbox JS -->
  <script>
  (() => {
    function initCarousel(root) {
      const viewport = root.querySelector('.carousel-viewport');
      if (!viewport) return;
      const slides = Array.from(viewport.querySelectorAll('.carousel-slide'));
      const autoplayVideos = root.dataset.autoplay === "true";
      let i = slides.findIndex(s => s.classList.contains('is-active'));
      if (i < 0) i = 0;

      if (slides.length <= 1) { render(); return; }

      const controls = document.createElement('div');
      controls.className = 'carousel-controls';
      const prev = Object.assign(document.createElement('button'), { className:'carousel-btn carousel-prev', type:'button', ariaLabel:'Previous slide', textContent:'‹' });
      const dotsWrap = Object.assign(document.createElement('div'), { className:'carousel-dots' });
      const next = Object.assign(document.createElement('button'), { className:'carousel-btn carousel-next', type:'button', ariaLabel:'Next slide', textContent:'›' });
      controls.append(prev, dotsWrap, next);
      root.appendChild(controls);

      const dots = slides.map((_, idx) => {
        const b = document.createElement('button');
        b.type = 'button';
        b.className = 'carousel-dot';
        b.setAttribute('aria-label', `Go to slide ${idx+1}`);
        b.addEventListener('click', (ev) => { ev.stopPropagation(); go(idx); });
        dotsWrap.appendChild(b);
        return b;
      });

      function pauseNonActive() {
        slides.forEach((s, idx) => {
          if (idx !== i) s.querySelectorAll('video').forEach(v => v.pause && v.pause());
        });
      }
      function maybeAutoplay() {
        if (!autoplayVideos) return;
        slides[i].querySelectorAll('video').forEach(v => { try { v.currentTime = 0; v.play && v.play(); } catch(_){} });
      }
      function render() {
        slides.forEach((s, idx) => s.classList.toggle('is-active', idx === i));
        dots.forEach((d, idx) => d.setAttribute('aria-selected', String(idx === i)));
      }
      function go(n) {
        i = (n + slides.length) % slides.length;
        pauseNonActive();
        render();
        maybeAutoplay();
      }

      prev.addEventListener('click', (ev) => { ev.stopPropagation(); go(i - 1); });
      next.addEventListener('click', (ev) => { ev.stopPropagation(); go(i + 1); });

      root.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') { e.preventDefault(); go(i - 1); }
        if (e.key === 'ArrowRight'){ e.preventDefault(); go(i + 1); }
      });

      let startX = null, moved = false;
      viewport.addEventListener('touchstart', e => { startX = e.touches[0].clientX; moved = false; }, {passive:true});
      viewport.addEventListener('touchmove',  () => { moved = true; }, {passive:true});
      viewport.addEventListener('touchend',   e => {
        if (startX == null || !moved) return;
        const dx = e.changedTouches[0].clientX - startX;
        if (Math.abs(dx) > 40) go(i + (dx < 0 ? 1 : -1));
        startX = null; moved = false;
      });

      render();
      maybeAutoplay();
    }

    // Init all carousels on page
    document.querySelectorAll('.carousel').forEach(initCarousel);

    // === Lightbox Logic ===
    const lightbox = document.getElementById("lightbox");
    const lightboxClose = document.getElementById("lightbox-close");

    // Click handler for any carousel with data-gallery
    document.querySelectorAll(".carousel[data-gallery]").forEach(carousel => {
      carousel.addEventListener("click", e => {
        // Avoid opening when clicking buttons/controls
        if (e.target.closest('.carousel-btn') || e.target.closest('.carousel-dots')) return;

        const gallerySlides = carousel.querySelectorAll(".carousel-slide img, .carousel-slide video");
        if (gallerySlides.length === 0) return;

        // Reset lightbox slides
        const modalCarousel = lightbox.querySelector(".carousel");
        const viewport = lightbox.querySelector(".carousel-viewport");
        viewport.innerHTML = "";

        gallerySlides.forEach((node, idx) => {
          const slide = document.createElement("div");
          slide.className = "carousel-slide" + (idx === 0 ? " is-active" : "");
          const clone = node.cloneNode(true);
          // In modal, prefer 'object-contain' so users can see full media
          if (clone.tagName.toLowerCase() === 'img' || clone.tagName.toLowerCase() === 'video') {
            clone.classList.remove('object-cover');
            clone.classList.add('object-contain');
          }
          slide.appendChild(clone);
          viewport.appendChild(slide);
        });

        // Remove any previous controls/dots from modal carousel
        modalCarousel.querySelectorAll(".carousel-controls, .carousel-dots").forEach(el => el.remove());

        // Show modal then init its carousel
        lightbox.classList.remove("hidden");
        lightbox.classList.add("flex");
        initCarousel(modalCarousel);
      });
    });

    // Close actions
    lightboxClose.addEventListener("click", () => {
      lightbox.classList.add("hidden");
      lightbox.classList.remove("flex");
      // Pause any playing videos in modal
      lightbox.querySelectorAll('video').forEach(v => v.pause && v.pause());
    });
    lightbox.addEventListener("click", e => {
      if (e.target === lightbox) {
        lightbox.classList.add("hidden");
        lightbox.classList.remove("flex");
        lightbox.querySelectorAll('video').forEach(v => v.pause && v.pause());
      }
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !lightbox.classList.contains('hidden')) {
        lightbox.classList.add("hidden");
        lightbox.classList.remove("flex");
        lightbox.querySelectorAll('video').forEach(v => v.pause && v.pause());
      }
    });
  })();
  </script>
</body>
</html>
